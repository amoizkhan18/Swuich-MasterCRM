@model TICRM.DTOs.CustomerAssetDto

@{ 

    List<TICRM.DTOs.AccountDto> accountList = new List<TICRM.DTOs.AccountDto>();
    accountList = ViewBag.AccountId;

    List<TICRM.DTOs.LocationDto> locationDtos = new List<TICRM.DTOs.LocationDto>();
    locationDtos = ViewBag.LocationId;

}



<div class="m-portlet m-portlet--tabs">
    <div class="m-portlet__head">
        <div class="m-portlet__head-tools">
            <ul class="nav nav-tabs m-tabs-line m-tabs-line--success m-tabs-line--2x" role="tablist">
                <li class="nav-item m-tabs__item">
                    <a class="nav-link m-tabs__link active show" data-toggle="tab" href="#m_portlet_tab_CustomerAssets" role="tab" aria-selected="true">
                        <i class="la la-user-md"></i> Customer Assets
                    </a>
                </li>

            </ul>
        </div>
    </div>
    <div class="m-portlet__body">
        <div class="tab-content">
            <div class="tab-pane active show" id="m_portlet_tab_CustomerAssets" role="tabpanel">

                <div class="row container">
                    <dl class="dl-horizontal">
                        <dt>
                            @Html.DisplayNameFor(model => model.Title)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Title)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.Manufacture)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Manufacture)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.Model)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Model)
                        </dd>

                        <dt>
                            Year Of Manufacture
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.YearOfManufacture)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.Value)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Value)
                        </dd>

                        <dt>
                            Depriciated Value
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.DepriciatedValue)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.SKU)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.SKU)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.Description)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Description)
                        </dd>

                        <dt>Account</dt>
                        <dd>@ViewBag.AccountId</dd>

                        <dt>Location</dt>
                        <dd>@ViewBag.LocationId</dd>

                        <dt>
                            Account
                        </dt>

                        <dd>
                            @{
                                TICRM.DTOs.AccountDto account = accountList.FirstOrDefault(x => x.AccountId == item.AccountId);
                                var accountValue = "";
                                if (account != null)
                                {
                                    accountValue = accountList.FirstOrDefault(x => x.AccountId == item.AccountId).Name;
                                }
                                else { accountValue = ""; }
                            }
                            @accountValue
                        </dd>



                        <dt>
                            Location
                        </dt>

                        <dd>
                            @{
                                TICRM.DTOs.LocationDto location = locationDtos.FirstOrDefault(x => x.LocationId == item.LocationId);
                                var locationValue = "";
                                if (location != null)
                                {
                                    locationValue = locationDtos.FirstOrDefault(x => x.LocationId == item.LocationId).Name;
                                }
                                else { locationValue = ""; }
                            }
                            @locationValue
                        </dd>



                        <dt>
                            Customer Asset Type
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.CustomerAssetType.Name)
                        </dd>

                        <dt>
                            Status
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Status.Name)
                        </dd>

                        <dt>
                            Assigned Team
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Team.Name)
                        </dd>

                        <dt>
                            Assigned User
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.User.Name)
                        </dd>

                    </dl>
                </div>
                <div class="clearfix">
                    <hr />
                </div>


                @using (Html.BeginForm("Delete/" + Model.CustomerAssetId, "CustomerAssets", FormMethod.Post, new { id = "DeleteForm" }))
                {
                    @Html.AntiForgeryToken()

                    <div class="form-actions no-color">
                        <button type="button" id="deletebtn" onclick="Delete_Record()" class="btn btn-success"> Confirm</button>
                        <button type="button" onclick="$('#m_modal_Delete').modal('hide');" class="btn btn-secondary"><i class="la la-refresh"></i> Cancel</button>
                    </div>
                }

            </div>

        </div>
    </div>
</div>





<script>

    var Delete_Record = function () {
        $('body').addClass('m-page--loading');
        $('#DeleteForm').submit();
    }

</script>




