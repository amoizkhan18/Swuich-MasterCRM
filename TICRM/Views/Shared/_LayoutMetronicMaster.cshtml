<!DOCTYPE html>
<html lang="en">

<!-- begin::Head -->
<head>
    <meta charset="utf-8" />
    <title> INCA | @ViewBag.Title</title>
    <meta name="description" content="Latest updates and statistic charts">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
    <!--begin::Web font -->
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
    <script>
        WebFont.load({
            google: { "families": ["Poppins:300,400,500,600,700", "Roboto:300,400,500,600,700", "Asap+Condensed:500"] },
            active: function () {
                sessionStorage.fonts = true;
            }
        });
    </script>

    <!--end::Web font -->

    @Styles.Render("~/bundles/MetronicMasterCSS")

    @*<!--begin:: Global Mandatory Vendors -->
        <link href="~/Content/Metronic/vendors/perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet" type="text/css" />
        <!--end:: Global Mandatory Vendors -->
        <!--begin:: Global Optional Vendors -->
        <link href="~/Content/Metronic/vendors/tether/dist/css/tether.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/bootstrap-datepicker/dist/css/bootstrap-datepicker3.min.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/bootstrap-datetime-picker/css/bootstrap-datetimepicker.min.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/bootstrap-timepicker/css/bootstrap-timepicker.min.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/bootstrap-switch/dist/css/bootstrap3/bootstrap-switch.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/bootstrap-select/dist/css/bootstrap-select.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/select2/dist/css/select2.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/nouislider/distribute/nouislider.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/owl.carousel/dist/assets/owl.carousel.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/owl.carousel/dist/assets/owl.theme.default.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/ion-rangeslider/css/ion.rangeSlider.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/ion-rangeslider/css/ion.rangeSlider.skinFlat.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/dropzone/dist/dropzone.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/summernote/dist/summernote.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/bootstrap-markdown/css/bootstrap-markdown.min.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/animate.css/animate.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/toastr/build/toastr.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/jstree/dist/themes/default/style.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/morris.js/morris.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/chartist/dist/chartist.min.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/sweetalert2/dist/sweetalert2.min.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/socicon/css/socicon.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/vendors/line-awesome/css/line-awesome.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/vendors/flaticon/css/flaticon.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/vendors/metronic/css/styles.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/Metronic/vendors/vendors/fontawesome5/css/all.min.css" rel="stylesheet" type="text/css" />*@

    <!--end:: Global Optional Vendors -->
    <!--begin::Global Theme Styles -->
    <link href="~/Content/Metronic/assets/demo/base/style.bundle.css" rel="stylesheet" type="text/css" />

    <!--RTL version:<link href="~/Content/Metronic/assets/demo/base/style.bundle.rtl.css" rel="stylesheet" type="text/css" />-->
    <!--end::Global Theme Styles -->
    <!--begin::Page Vendors Styles -->
    <link href="~/Content/Metronic/assets/vendors/custom/fullcalendar/fullcalendar.bundle.css" rel="stylesheet" type="text/css" />

    <!--RTL version:<link href="~/Content/Metronic/assets/vendors/custom/fullcalendar/fullcalendar.bundle.rtl.css" rel="stylesheet" type="text/css" />-->
    <!--begin::Page Vendors Styles -->
    <link href="~/Content/Metronic/assets/vendors/custom/datatables/datatables.bundle.css" rel="stylesheet" type="text/css" />
    <!--RTL version:<link href="~/Content/Metronic/assets/vendors/custom/datatables/datatables.bundle.rtl.css" rel="stylesheet" type="text/css" />-->
    <!--end::Page Vendors Styles -->
    <link rel="shortcut icon" href="~/Content/Images/favicon.ico" />
    <!--Start::Custom Style Sheet -->
    <link href="~/Content/CustomCSS.css" rel="stylesheet" />
    <!--End::Custom Style Sheet -->
    <style>
        body {
            font-family: 'lato', sans-serif;
        }
    </style>
</head>

<!-- end::Head -->
<!-- begin::Body -->
<body class="m-page--fluid m-page--loading-enabled m-page--loading m-header--fixed m-header--fixed-mobile m-footer--push m-aside--offcanvas-default">
    <!-- begin::Page loader -->
    <div class="m-page-loader m-page-loader--base">
        <div class="m-blockui">
            <span>Please wait...</span>
            <span>
                <div class="m-loader m-loader--brand"></div>
            </span>
        </div>
    </div>
    <!-- end::Page Loader -->
    <!-- begin:: Page -->
    <div class="m-grid m-grid--hor m-grid--root m-page">
        <!-- begin::Header -->
        @Html.Partial("~/Views/Shared/_PartialMetronicHeader.cshtml")
        <!-- end::Header -->
        <!-- begin::Body -->

        <div class="m-grid__item m-grid__item--fluid  m-grid m-grid--ver-desktop m-grid--desktop m-page__container m-body">
            <div class="m-grid__item m-grid__item--fluid m-wrapper">
                @RenderBody()
            </div>
        </div>
        <!-- end::Body -->
        <!-- begin::Footer -->
        @Html.Partial("~/Views/Shared/_PartialMetronicFooter.cshtml")
        <!-- end::Footer -->
    </div>
    <!-- end:: Page -->
    <!-- begin::Quick Sidebar -->
    <div id="m_quick_sidebar" class="m-quick-sidebar m-quick-sidebar--tabbed m-quick-sidebar--skin-light">
        <div class="m-quick-sidebar__content m--hide">
            <span id="m_quick_sidebar_close" class="m-quick-sidebar__close"><i class="la la-close"></i></span>
            <ul id="m_quick_sidebar_tabs" class="nav nav-tabs m-tabs m-tabs-line m-tabs-line--brand" role="tablist">
                <li class="nav-item m-tabs__item">
                    <a class="nav-link m-tabs__link active" data-toggle="tab" href="#m_quick_sidebar_tabs_messenger" role="tab">Messages</a>
                </li>
                <li class="nav-item m-tabs__item">
                    <a class="nav-link m-tabs__link" data-toggle="tab" href="#m_quick_sidebar_tabs_settings" role="tab">Settings</a>
                </li>
                <li class="nav-item m-tabs__item">
                    <a class="nav-link m-tabs__link" data-toggle="tab" href="#m_quick_sidebar_tabs_logs" role="tab">Logs</a>
                </li>
                <li class="nav-item m-tabs__item">
                    <a class="nav-link m-tabs__link" data-toggle="tab" href="#m_quick_sidebar_tabs_Layouts" role="tab">Layouts</a>
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane active" id="m_quick_sidebar_tabs_messenger" role="tabpanel">
                    <div class="m-messenger m-messenger--message-arrow m-messenger--skin-light">
                        <div class="m-messenger__messages m-scrollable">
                            <div class="m-messenger__wrapper">
                                <div class="m-messenger__message m-messenger__message--in">
                                    <div class="m-messenger__message-pic">
                                        <img src="~/Content/Metronic/assets/app/media/img//users/user3.jpg" alt="" />
                                    </div>
                                    <div class="m-messenger__message-body">
                                        <div class="m-messenger__message-arrow"></div>
                                        <div class="m-messenger__message-content">
                                            <div class="m-messenger__message-username">
                                                Megan wrote
                                            </div>
                                            <div class="m-messenger__message-text">
                                                Hi Bob. What time will be the meeting ?
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="m-messenger__wrapper">
                                <div class="m-messenger__message m-messenger__message--out">
                                    <div class="m-messenger__message-body">
                                        <div class="m-messenger__message-arrow"></div>
                                        <div class="m-messenger__message-content">
                                            <div class="m-messenger__message-text">
                                                Hi Megan. It's at 2.30PM
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="m-messenger__wrapper">
                                <div class="m-messenger__message m-messenger__message--in">
                                    <div class="m-messenger__message-pic">
                                        <img src="~/Content/Metronic/assets/app/media/img//users/user3.jpg" alt="" />
                                    </div>
                                    <div class="m-messenger__message-body">
                                        <div class="m-messenger__message-arrow"></div>
                                        <div class="m-messenger__message-content">
                                            <div class="m-messenger__message-username">
                                                Megan wrote
                                            </div>
                                            <div class="m-messenger__message-text">
                                                Will the development team be joining ?
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="m-messenger__wrapper">
                                <div class="m-messenger__message m-messenger__message--out">
                                    <div class="m-messenger__message-body">
                                        <div class="m-messenger__message-arrow"></div>
                                        <div class="m-messenger__message-content">
                                            <div class="m-messenger__message-text">
                                                Yes sure. I invited them as well
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="m-messenger__datetime">2:30PM</div>
                            <div class="m-messenger__wrapper">
                                <div class="m-messenger__message m-messenger__message--in">
                                    <div class="m-messenger__message-pic">
                                        <img src="~/Content/Metronic/assets/app/media/img//users/user3.jpg" alt="" />
                                    </div>
                                    <div class="m-messenger__message-body">
                                        <div class="m-messenger__message-arrow"></div>
                                        <div class="m-messenger__message-content">
                                            <div class="m-messenger__message-username">
                                                Megan wrote
                                            </div>
                                            <div class="m-messenger__message-text">
                                                Noted. For the Coca-Cola Mobile App project as well ?
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="m-messenger__wrapper">
                                <div class="m-messenger__message m-messenger__message--out">
                                    <div class="m-messenger__message-body">
                                        <div class="m-messenger__message-arrow"></div>
                                        <div class="m-messenger__message-content">
                                            <div class="m-messenger__message-text">
                                                Yes, sure.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="m-messenger__wrapper">
                                <div class="m-messenger__message m-messenger__message--out">
                                    <div class="m-messenger__message-body">
                                        <div class="m-messenger__message-arrow"></div>
                                        <div class="m-messenger__message-content">
                                            <div class="m-messenger__message-text">
                                                Please also prepare the quotation for the Loop CRM project as well.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="m-messenger__datetime">3:15PM</div>
                            <div class="m-messenger__wrapper">
                                <div class="m-messenger__message m-messenger__message--in">
                                    <div class="m-messenger__message-no-pic m--bg-fill-danger">
                                        <span>M</span>
                                    </div>
                                    <div class="m-messenger__message-body">
                                        <div class="m-messenger__message-arrow"></div>
                                        <div class="m-messenger__message-content">
                                            <div class="m-messenger__message-username">
                                                Megan wrote
                                            </div>
                                            <div class="m-messenger__message-text">
                                                Noted. I will prepare it.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="m-messenger__wrapper">
                                <div class="m-messenger__message m-messenger__message--out">
                                    <div class="m-messenger__message-body">
                                        <div class="m-messenger__message-arrow"></div>
                                        <div class="m-messenger__message-content">
                                            <div class="m-messenger__message-text">
                                                Thanks Megan. I will see you later.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="m-messenger__wrapper">
                                <div class="m-messenger__message m-messenger__message--in">
                                    <div class="m-messenger__message-pic">
                                        <img src="~/Content/Metronic/assets/app/media/img//users/user3.jpg" alt="" />
                                    </div>
                                    <div class="m-messenger__message-body">
                                        <div class="m-messenger__message-arrow"></div>
                                        <div class="m-messenger__message-content">
                                            <div class="m-messenger__message-username">
                                                Megan wrote
                                            </div>
                                            <div class="m-messenger__message-text">
                                                Sure. See you in the meeting soon.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__seperator"></div>
                        <div class="m-messenger__form">
                            <div class="m-messenger__form-controls">
                                <input type="text" name="" placeholder="Type here..." class="m-messenger__form-input">
                            </div>
                            <div class="m-messenger__form-tools">
                                <a href="" class="m-messenger__form-attachment">
                                    <i class="la la-paperclip"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane" id="m_quick_sidebar_tabs_settings" role="tabpanel">
                    <div class="m-list-settings m-scrollable">
                        <div class="m-list-settings__group">
                            <div class="m-list-settings__heading">General Settings</div>
                            <div class="m-list-settings__item">
                                <span class="m-list-settings__item-label">Email Notifications</span>
                                <span class="m-list-settings__item-control">
                                    <span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
                                        <label>
                                            <input type="checkbox" checked="checked" name="">
                                            <span></span>
                                        </label>
                                    </span>
                                </span>
                            </div>
                            <div class="m-list-settings__item">
                                <span class="m-list-settings__item-label">Site Tracking</span>
                                <span class="m-list-settings__item-control">
                                    <span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
                                        <label>
                                            <input type="checkbox" name="">
                                            <span></span>
                                        </label>
                                    </span>
                                </span>
                            </div>
                            <div class="m-list-settings__item">
                                <span class="m-list-settings__item-label">SMS Alerts</span>
                                <span class="m-list-settings__item-control">
                                    <span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
                                        <label>
                                            <input type="checkbox" name="">
                                            <span></span>
                                        </label>
                                    </span>
                                </span>
                            </div>
                            <div class="m-list-settings__item">
                                <span class="m-list-settings__item-label">Backup Storage</span>
                                <span class="m-list-settings__item-control">
                                    <span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
                                        <label>
                                            <input type="checkbox" name="">
                                            <span></span>
                                        </label>
                                    </span>
                                </span>
                            </div>
                            <div class="m-list-settings__item">
                                <span class="m-list-settings__item-label">Audit Logs</span>
                                <span class="m-list-settings__item-control">
                                    <span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
                                        <label>
                                            <input type="checkbox" checked="checked" name="">
                                            <span></span>
                                        </label>
                                    </span>
                                </span>
                            </div>
                        </div>
                        <div class="m-list-settings__group">
                            <div class="m-list-settings__heading">System Settings</div>
                            <div class="m-list-settings__item">
                                <span class="m-list-settings__item-label">System Logs</span>
                                <span class="m-list-settings__item-control">
                                    <span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
                                        <label>
                                            <input type="checkbox" name="">
                                            <span></span>
                                        </label>
                                    </span>
                                </span>
                            </div>
                            <div class="m-list-settings__item">
                                <span class="m-list-settings__item-label">Error Reporting</span>
                                <span class="m-list-settings__item-control">
                                    <span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
                                        <label>
                                            <input type="checkbox" name="">
                                            <span></span>
                                        </label>
                                    </span>
                                </span>
                            </div>
                            <div class="m-list-settings__item">
                                <span class="m-list-settings__item-label">Applications Logs</span>
                                <span class="m-list-settings__item-control">
                                    <span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
                                        <label>
                                            <input type="checkbox" name="">
                                            <span></span>
                                        </label>
                                    </span>
                                </span>
                            </div>
                            <div class="m-list-settings__item">
                                <span class="m-list-settings__item-label">Backup Servers</span>
                                <span class="m-list-settings__item-control">
                                    <span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
                                        <label>
                                            <input type="checkbox" checked="checked" name="">
                                            <span></span>
                                        </label>
                                    </span>
                                </span>
                            </div>
                            <div class="m-list-settings__item">
                                <span class="m-list-settings__item-label">Audit Logs</span>
                                <span class="m-list-settings__item-control">
                                    <span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
                                        <label>
                                            <input type="checkbox" name="">
                                            <span></span>
                                        </label>
                                    </span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane" id="m_quick_sidebar_tabs_logs" role="tabpanel">
                    <div class="m-list-timeline m-scrollable">
                        <div class="m-list-timeline__group">
                            <div class="m-list-timeline__heading">
                                System Logs
                            </div>
                            <div class="m-list-timeline__items">
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                    <a href="" class="m-list-timeline__text">12 new users registered <span class="m-badge m-badge--warning m-badge--wide">important</span></a>
                                    <span class="m-list-timeline__time">Just now</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                    <a href="" class="m-list-timeline__text">System shutdown</a>
                                    <span class="m-list-timeline__time">11 mins</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-danger"></span>
                                    <a href="" class="m-list-timeline__text">New invoice received</a>
                                    <span class="m-list-timeline__time">20 mins</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-warning"></span>
                                    <a href="" class="m-list-timeline__text">Database overloaded 89% <span class="m-badge m-badge--success m-badge--wide">resolved</span></a>
                                    <span class="m-list-timeline__time">1 hr</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                    <a href="" class="m-list-timeline__text">System error</a>
                                    <span class="m-list-timeline__time">2 hrs</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                    <a href="" class="m-list-timeline__text">Production server down <span class="m-badge m-badge--danger m-badge--wide">pending</span></a>
                                    <span class="m-list-timeline__time">3 hrs</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                    <a href="" class="m-list-timeline__text">Production server up</a>
                                    <span class="m-list-timeline__time">5 hrs</span>
                                </div>
                            </div>
                        </div>
                        <div class="m-list-timeline__group">
                            <div class="m-list-timeline__heading">
                                Applications Logs
                            </div>
                            <div class="m-list-timeline__items">
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                    <a href="" class="m-list-timeline__text">New order received <span class="m-badge m-badge--info m-badge--wide">urgent</span></a>
                                    <span class="m-list-timeline__time">7 hrs</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                    <a href="" class="m-list-timeline__text">12 new users registered</a>
                                    <span class="m-list-timeline__time">Just now</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                    <a href="" class="m-list-timeline__text">System shutdown</a>
                                    <span class="m-list-timeline__time">11 mins</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-danger"></span>
                                    <a href="" class="m-list-timeline__text">New invoices received</a>
                                    <span class="m-list-timeline__time">20 mins</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-warning"></span>
                                    <a href="" class="m-list-timeline__text">Database overloaded 89%</a>
                                    <span class="m-list-timeline__time">1 hr</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                    <a href="" class="m-list-timeline__text">System error <span class="m-badge m-badge--info m-badge--wide">pending</span></a>
                                    <span class="m-list-timeline__time">2 hrs</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                    <a href="" class="m-list-timeline__text">Production server down</a>
                                    <span class="m-list-timeline__time">3 hrs</span>
                                </div>
                            </div>
                        </div>
                        <div class="m-list-timeline__group">
                            <div class="m-list-timeline__heading">
                                Server Logs
                            </div>
                            <div class="m-list-timeline__items">
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                    <a href="" class="m-list-timeline__text">Production server up</a>
                                    <span class="m-list-timeline__time">5 hrs</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                    <a href="" class="m-list-timeline__text">New order received</a>
                                    <span class="m-list-timeline__time">7 hrs</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                    <a href="" class="m-list-timeline__text">12 new users registered</a>
                                    <span class="m-list-timeline__time">Just now</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                    <a href="" class="m-list-timeline__text">System shutdown</a>
                                    <span class="m-list-timeline__time">11 mins</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-danger"></span>
                                    <a href="" class="m-list-timeline__text">New invoice received</a>
                                    <span class="m-list-timeline__time">20 mins</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-warning"></span>
                                    <a href="" class="m-list-timeline__text">Database overloaded 89%</a>
                                    <span class="m-list-timeline__time">1 hr</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                    <a href="" class="m-list-timeline__text">System error</a>
                                    <span class="m-list-timeline__time">2 hrs</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                    <a href="" class="m-list-timeline__text">Production server down</a>
                                    <span class="m-list-timeline__time">3 hrs</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                    <a href="" class="m-list-timeline__text">Production server up</a>
                                    <span class="m-list-timeline__time">5 hrs</span>
                                </div>
                                <div class="m-list-timeline__item">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                    <a href="" class="m-list-timeline__text">New order received</a>
                                    <span class="m-list-timeline__time">1117 hrs</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane" id="m_quick_sidebar_tabs_Layouts" role="tabpanel">
                    <div class="m-list-timeline m-scrollable">
                        <ul class="m-nav">
                            <li class="m-nav__item">
                                <a href="#" onclick="changeLayout('Demo 5')" class="m-nav__link">
                                    <i class="m-nav__link-icon flaticon-share"></i>
                                    <span class="m-nav__link-text">Demo 5</span>
                                </a>
                            </li>

                            <li class="m-nav__item">
                                <a href="#" onclick="changeLayout('Demo 10')" class="m-nav__link">
                                    <i class="m-nav__link-icon flaticon-share"></i>
                                    <span class="m-nav__link-text">Demo 10</span>
                                </a>
                            </li>
                            <li class="m-nav__item">
                                <a href="#" onclick="changeLayout('Demo 11')" class="m-nav__link">
                                    <i class="m-nav__link-icon flaticon-share"></i>
                                    <span class="m-nav__link-text">Demo 11</span>
                                </a>
                            </li>
                            <li class="m-nav__item">
                                <a href="#" onclick="changeLayout('Demo')" class="m-nav__link">
                                    <i class="m-nav__link-icon flaticon-share"></i>
                                    <span class="m-nav__link-text">Search Layout</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- end::Quick Sidebar -->
    <!-- begin::Scroll Top -->
    <div id="m_scroll_top" class="m-scroll-top">
        <i class="la la-arrow-up"></i>
    </div>
    <!-- end::Scroll Top -->
    <!-- begin::Quick Nav -->
    <ul class="m-nav-sticky" style="margin-top: 30px;">
        <li class="m-nav-sticky__item" data-toggle="m-tooltip" title="Purchase" data-placement="left">
            <a href="#" target="_blank"><i class="la la-cart-arrow-down"></i></a>
        </li>
        <li class="m-nav-sticky__item" data-toggle="m-tooltip" title="Documentation" data-placement="left">
            <a href="#" target="_blank"><i class="la la-code-fork"></i></a>
        </li>
        <li class="m-nav-sticky__item" data-toggle="m-tooltip" title="Support" data-placement="left">
            <a href="#" target="_blank"><i class="la la-life-ring"></i></a>
        </li>
    </ul>

    <!-- begin::Quick Nav -->
    <!-- begin::ModalDetails -->
    <div class="modal fade" id="m_modal_Details" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" style="display: none;" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">

            </div>
        </div>
    </div>
    <!-- end::ModalDetails -->
    <!-- begin::ModalForDelete -->
    <div class="modal fade" id="m_modal_Delete" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" style="display: none;" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">

            </div>
        </div>
    </div>
    <!-- end::ModalForDelete -->
    <!-- Start:Right Side Modal -->
    <div class="modal fade modal-rightside-fade" id="RightSideModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2" aria-hidden="true">
        <div class="modal-dialog modal-rightside-dialog modal-RightSide-slideout" role="document">
            <div class="modal-content modal-content-rightside">
                <div class="modal-header modal-header-rightside">
                    <h5 class="modal-header-title" id="exampleModalLabel">Details</h5>
                    <button type="button" class="close modalrightsideClose" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    ...
                </div>
                <div class="modal-footer modal-rightside-footer">
                    @*<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>*@
                    @*<button type="button" class="btn btn-primary">Save changes</button>*@
                </div>
            </div>
        </div>
    </div>
    <!-- End:Right Side Modal -->

    @Scripts.Render("~/bundles/MetronicMasterScript")

    @*<!--begin:: Global Mandatory Vendors -->
        <script src="~/Content/Metronic/vendors/jquery/dist/jquery.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/popper.js/dist/umd/popper.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/js-cookie/src/js.cookie.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/moment/min/moment.min.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/tooltip.js/dist/umd/tooltip.min.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/perfect-scrollbar/dist/perfect-scrollbar.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/wnumb/wNumb.js" type="text/javascript"></script>
        <!--end:: Global Mandatory Vendors -->
        <!--begin:: Global Optional Vendors -->
        <script src="~/Content/Metronic/vendors/jquery.repeater/src/lib.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/jquery.repeater/src/jquery.input.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/jquery.repeater/src/repeater.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/jquery-form/dist/jquery.form.min.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/block-ui/jquery.blockUI.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/js/framework/components/plugins/forms/bootstrap-datepicker.init.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/bootstrap-datetime-picker/js/bootstrap-datetimepicker.min.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/bootstrap-timepicker/js/bootstrap-timepicker.min.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/js/framework/components/plugins/forms/bootstrap-timepicker.init.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/bootstrap-daterangepicker/daterangepicker.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/js/framework/components/plugins/forms/bootstrap-daterangepicker.init.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/bootstrap-maxlength/src/bootstrap-maxlength.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/bootstrap-switch/dist/js/bootstrap-switch.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/js/framework/components/plugins/forms/bootstrap-switch.init.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/vendors/bootstrap-multiselectsplitter/bootstrap-multiselectsplitter.min.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/bootstrap-select/dist/js/bootstrap-select.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/select2/dist/js/select2.full.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/typeahead.js/dist/typeahead.bundle.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/handlebars/dist/handlebars.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/inputmask/dist/jquery.inputmask.bundle.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/inputmask/dist/inputmask/inputmask.date.extensions.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/inputmask/dist/inputmask/inputmask.numeric.extensions.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/inputmask/dist/inputmask/inputmask.phone.extensions.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/nouislider/distribute/nouislider.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/owl.carousel/dist/owl.carousel.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/autosize/dist/autosize.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/clipboard/dist/clipboard.min.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/ion-rangeslider/js/ion.rangeSlider.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/dropzone/dist/dropzone.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/summernote/dist/summernote.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/markdown/lib/markdown.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/bootstrap-markdown/js/bootstrap-markdown.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/js/framework/components/plugins/forms/bootstrap-markdown.init.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/jquery-validation/dist/jquery.validate.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/jquery-validation/dist/additional-methods.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/js/framework/components/plugins/forms/jquery-validation.init.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/bootstrap-notify/bootstrap-notify.min.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/js/framework/components/plugins/base/bootstrap-notify.init.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/toastr/build/toastr.min.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/jstree/dist/jstree.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/raphael/raphael.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/morris.js/morris.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/chartist/dist/chartist.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/chart.js/dist/Chart.bundle.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/js/framework/components/plugins/charts/chart.init.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/vendors/bootstrap-session-timeout/dist/bootstrap-session-timeout.min.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/vendors/jquery-idletimer/idle-timer.min.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/waypoints/lib/jquery.waypoints.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/counterup/jquery.counterup.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/es6-promise-polyfill/promise.min.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/sweetalert2/dist/sweetalert2.min.js" type="text/javascript"></script>
        <script src="~/Content/Metronic/vendors/js/framework/components/plugins/base/sweetalert2.init.js" type="text/javascript"></script>*@

    <!--end:: Global Optional Vendors -->
    <!--begin::Global Theme Bundle -->
    <script src="~/Content/Metronic/assets/demo/base/scripts.bundle.js" type="text/javascript"></script>

    <!--end::Global Theme Bundle -->
    <!--begin::Page Vendors -->
    <script src="~/Content/Metronic/assets/vendors/custom/fullcalendar/fullcalendar.bundle.js" type="text/javascript"></script>

    <!--end::Page Vendors -->
    <!--begin::Page Scripts -->
    <script src="~/Content/Metronic/assets/app/js/dashboard.js" type="text/javascript"></script>

    <!--end::Page Scripts -->
    <!--begin::Page Vendors -->
    <script src="~/Content/Metronic/assets/vendors/custom/datatables/datatables.bundle.js" type="text/javascript"></script>
    <!--end::Page Vendors -->
    <!--begin::Page Scripts -->
    @*<script src="~/Content/Metronic/assets/demo/custom/crud/datatables/extensions/buttons.js" type="text/javascript"></script>*@
    @*<script src="~/Content/Metronic/assets/demo/custom/crud/datatables/basic/scrollable.js" type="text/javascript"></script>*@


    <script src="~/Content/Metronic/assets/demo/custom/crud/forms/validation/form-controls.js" type="text/javascript"></script>
    @*<script src="~/Content/Metronic/assets/demo/custom/crud/forms/validation/form-widgets.js" type="text/javascript"></script>*@
    <script src="~/Content/Metronic/assets/demo/custom/crud/forms/widgets/bootstrap-touchspin.js" type="text/javascript"></script>
    <script src="~/Content/Metronic/assets/demo/custom/crud/forms/widgets/bootstrap-daterangepicker.js" type="text/javascript"></script>
    <script src="~/Content/Metronic/assets/demo/custom/crud/forms/widgets/bootstrap-maxlength.js" type="text/javascript"></script>


    <!--Google Map-->
    @*<script src="//maps.google.com/maps/api/js?key=AIzaSyDBGVDv5fOFgfW4ixNZL_2krgkriGu6vvc" type="text/javascript"></script>*@
    <script src="https://maps.google.com/maps/api/js?key=AIzaSyCRrN3Wxp2sOTtJtjaVjVh_V_-Uthsg4zo"></script>
    @*<script src="~/Content/Metronic/assets/vendors/custom/gmaps/gmaps.js"></script>*@
    <!--<script src="~/Content/Metronic/assets/demo/custom/components/maps/google-maps.js" type="text/javascript"></script>-->
    <!--end::Page Scripts -->
    <!-- begin::Page Loader -->
    <script>
        $(window).on('load', function () {
            $('body').removeClass('m-page--loading');
        });
    </script>
    <!-- end::Page Loader -->

    <script src="~/Content/EasyAutocomplete-1.3.5/jquery.easy-autocomplete.js"></script>
    <link href="~/Content/EasyAutocomplete-1.3.5/easy-autocomplete.min.css" rel="stylesheet" />
    <link href="~/Content/EasyAutocomplete-1.3.5/easy-autocomplete.themes.min.css" rel="stylesheet" />

    <script>
        var SearchData = [];
        var FirstInSearch = [];
        //var SearchData = [{ "Result": "<a href='/'>Dashboard</a>", "FirstURL": "/", "Text": "Dashboard", "Type": "URL" }, { "Result": "<a href='/Leads'>Leads</a>", "FirstURL": "/Leads", "Text": "Leads", "Type": "URL" }, { "Result": "<a href='/Opportunities'>Opportunities</a>", "FirstURL": "/Opportunities", "Text": "Opportunities", "Type": "URL" }, { "Result": "<a href='/Accounts'>Accounts</a>", "FirstURL": "/Accounts", "Text": "Accounts", "Type": "URL" }, { "Result": "<a href='/CustomerAssets'>CustomerAssets</a>", "FirstURL": "/CustomerAssets", "Text": "CustomerAssets", "Type": "URL" }, { "Result": "<a href='/ServiceCalls'>ServiceCalls</a>", "FirstURL": "/ServiceCalls", "Text": "ServiceCalls", "Type": "URL" }, { "Result": "<a href='/Readings'>Readings</a>", "FirstURL": "/Readings", "Text": "Readings", "Type": "URL" }, { "Result": "<a href='/Resources'>Resources</a>", "FirstURL": "/Resources", "Text": "Resources", "Type": "URL" }, { "Result": "<a href='/ResourceSkills'>ResourceSkills</a>", "FirstURL": "/ResourceSkills", "Text": "ResourceSkills", "Type": "URL" }, { "Result": "<a href='/ResourceAvailabilities'>ResourceAvailabilities</a>", "FirstURL": "/ResourceAvailabilities", "Text": "ResourceAvailabilities", "Type": "URL" }, { "Result": "<a href='/WorkOrders'>WorkOrders</a>", "FirstURL": "/WorkOrders", "Text": "WorkOrders", "Type": "URL" }, { "Result": "<a href='/ReadingTypes'>ReadingTypes</a>", "FirstURL": "/ReadingTypes", "Text": "ReadingTypes", "Type": "URL" }, { "Result": "<a href='/ReadingUnits'>ReadingUnits</a>", "FirstURL": "/ReadingUnits", "Text": "ReadingUnits", "Type": "URL" }, { "Result": "<a href='/Addresses'>Addresses</a>", "FirstURL": "/Addresses", "Text": "Addresses", "Type": "URL" }, { "Result": "<a href='/Locations'>Locations</a>", "FirstURL": "/Locations", "Text": "Locations", "Type": "URL" }, { "Result": "<a href='/Alerts'>Alerts</a>", "FirstURL": "/Alerts", "Text": "Alerts", "Type": "URL" }, { "Result": "<a href='/ControlPanel'>ControlPanel</a>", "FirstURL": "/ControlPanel", "Text": "ControlPanel", "Type": "URL" }, { "Result": "<a href='/Devices'>Devices</a>", "FirstURL": "/Devices", "Text": "Devices", "Type": "URL" }, { "Result": "<a href='/Devices/Create'>Create Devices</a>", "FirstURL": "/Devices/Create", "Text": "Create Devices", "Type": "URL" }];
        //var FirstInSearch = [{ "Result": "<a href='/'>Dashboard</a>", "FirstURL": "/", "Text": "Dashboard", "Type": "URL" }, { "Result": "<a href='/Leads'>Leads</a>", "FirstURL": "/Leads", "Text": "Leads", "Type": "URL" }, { "Result": "<a href='/Opportunities'>Opportunities</a>", "FirstURL": "/Opportunities", "Text": "Opportunities", "Type": "URL" }, { "Result": "<a href='/Accounts'>Accounts</a>", "FirstURL": "/Accounts", "Text": "Accounts", "Type": "URL" }, { "Result": "<a href='/CustomerAssets'>CustomerAssets</a>", "FirstURL": "/CustomerAssets", "Text": "CustomerAssets", "Type": "URL" }, { "Result": "<a href='/ServiceCalls'>ServiceCalls</a>", "FirstURL": "/ServiceCalls", "Text": "ServiceCalls", "Type": "URL" }, { "Result": "<a href='/Readings'>Readings</a>", "FirstURL": "/Readings", "Text": "Readings", "Type": "URL" }, { "Result": "<a href='/Resources'>Resources</a>", "FirstURL": "/Resources", "Text": "Resources", "Type": "URL" }, { "Result": "<a href='/ResourceSkills'>ResourceSkills</a>", "FirstURL": "/ResourceSkills", "Text": "ResourceSkills", "Type": "URL" }, { "Result": "<a href='/ResourceAvailabilities'>ResourceAvailabilities</a>", "FirstURL": "/ResourceAvailabilities", "Text": "ResourceAvailabilities", "Type": "URL" }, { "Result": "<a href='/WorkOrders'>WorkOrders</a>", "FirstURL": "/WorkOrders", "Text": "WorkOrders", "Type": "URL" }, { "Result": "<a href='/ReadingTypes'>ReadingTypes</a>", "FirstURL": "/ReadingTypes", "Text": "ReadingTypes", "Type": "URL" }, { "Result": "<a href='/ReadingUnits'>ReadingUnits</a>", "FirstURL": "/ReadingUnits", "Text": "ReadingUnits", "Type": "URL" }, { "Result": "<a href='/Addresses'>Addresses</a>", "FirstURL": "/Addresses", "Text": "Addresses", "Type": "URL" }, { "Result": "<a href='/Locations'>Locations</a>", "FirstURL": "/Locations", "Text": "Locations", "Type": "URL" }, { "Result": "<a href='/Alerts'>Alerts</a>", "FirstURL": "/Alerts", "Text": "Alerts", "Type": "URL" }, { "Result": "<a href='/ControlPanel'>ControlPanel</a>", "FirstURL": "/ControlPanel", "Text": "ControlPanel", "Type": "URL" }, { "Result": "<a href='/Devices'>Devices</a>", "FirstURL": "/Devices", "Text": "Devices", "Type": "URL" }, { "Result": "<a href='/Devices/Create'>Create Devices</a>", "FirstURL": "/Devices/Create", "Text": "Create Devices", "Type": "URL" }];

        $(document).ready(function () {
            Load_All_EACSearchList();


            //var strFun = "someFunction";
            //var strParam = "this is the parameter";
            ////Create the function call from function name and parameter.
            //var funcCall = strFun + "('" + strParam + "');";
            ////Call the function
            //var ret = eval(funcCall);
            //function someFunction(strParam) {
            //    alert(strParam);
            //}

        });

        // save MACAddress in Session
        function SaveMacAddress(value) {

            var obj = { MacAddress: value }

            $.ajax({
                type: "POST",
                url: "/GlobalSearch/SaveMac",
                data: obj,
                dataType: "text",
                async: false,
                success: function (response) {
                    console.log(response);
                },
                failure: function () {
                    alert("Failed!");
                }
            });
        }

        // its loading a list in object for search
        function LoadEACSearchList() {
            $.ajax({
                type: "POST",
                url: "/GlobalSearch/GetEACSearchList",
                //url: "/GlobalSearch/Get_All_EACSearchList",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {
                    console.log(response.length);

                    SearchData = new Array();
                    FirstInSearch = new Array();

                    var FirstInSearchData = response.FirstInSearch;
                    console.log(FirstInSearchData);
                    for (var i = 0; i < FirstInSearchData.length; i++) {
                        FirstInSearch.push(FirstInSearchData[i]);
                    }

                    if (response.SearchDataList.length == 0) {
                        SearchData = FirstInSearch;

                    }
                    else {
                        var SearchDataList = response.SearchDataList;
                        for (var i = 0; i < SearchDataList.length; i++) {
                            SearchData.push(SearchDataList[i]);
                        }
                    }

                    EasyautoCompleteSearch();

                },
                failure: function () {
                    alert("Failed!");
                }
            });
        }

        function Load_All_EACSearchList() {
            $.ajax({
                type: "POST",
                url: "/GlobalSearch/Get_All_EACSearchList",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {
                    console.log(response.length);

                    SearchData = new Array();

                    var FirstInSearchData = response.FirstInSearch;

                    for (var i = 0; i < FirstInSearchData.length; i++) {
                        SearchData.push(FirstInSearchData[i]);
                    }

                    EasyautoCompleteSearch();

                },
                failure: function () {
                    alert("Failed!");
                }
            });
        }

        // load Global Search
        function EasyautoCompleteSearch() {
            var Searchoptions = {
                data: SearchData,
                getValue: "Text",
                template: {
                    type: "description",
                    fields: {
                        description: "value"
                    }
                },
                list: {
                    match: {
                        enabled: true
                    },
                    maxNumberOfElements: 12,
                    onClickEvent: function () { console.log("onClickEvent") },
                    onSelectItemEvent: function () {
                        console.log("onSelectItemEvent");
                        //console.log($("#SearchFieldId").getSelectedItemData().value);
                        //var selectedItemValue = $("#SearchFieldId").getSelectedItemData().value;
                        //$("#inputTwo").val(selectedItemValue).trigger("change");
                    },
                    onLoadEvent: function () {
                        console.log("onLoadEvent");
                        //console.log($("#SearchFieldId").val().split(">").length);
                        //console.log($("#SearchFieldId").val().split(">"));
                        //if (($("#SearchFieldId").val().match(/ >/g) || []).length > 0) {
                        //    var obj = { value: $("#SearchFieldId").val() }
                        //}
                        //console.log(($("#SearchFieldId").val().match(/>/g) || []).length);
                        //console.log(($("#SearchFieldId").val().match(/ >/g) || []).length);
                    },
                    onChooseEvent: function () {

                        console.log("onChooseEvent");
                        $('body').addClass('m-page--loading');

                        addRecentSearch($("#SearchFieldId").getSelectedItemData().FirstURL, $("#SearchFieldId").getSelectedItemData().Text);

                        var selectedItemType = $("#SearchFieldId").getSelectedItemData().Type;
                        //searchUrlList.push($("#SearchFieldId").getSelectedItemData().Text);

                        if (selectedItemType == "URL") {
                            window.location.href = $("#SearchFieldId").getSelectedItemData().FirstURL;
                        }

                        if (selectedItemType == "MACAddress") {
                            localStorage.setItem('selectedDevice', $("#SearchFieldId").getSelectedItemData().Result);
                            var mac = $("#SearchFieldId").getSelectedItemData().Result;
                            SaveMacAddress(mac);
                            window.location.href = $("#SearchFieldId").getSelectedItemData().FirstURL;
                        }

                        if (selectedItemType == "Modal") {
                            try {
                                if ($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0] == "Accounts") {
                                    console.log($("#SearchFieldId").getSelectedItemData().JS_function);
                                    console.log($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0]);
                                    eval($("#SearchFieldId").getSelectedItemData().JS_function);
                                }
                                else if ($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0] == "Devices") {
                                    eval($("#SearchFieldId").getSelectedItemData().JS_function);
                                }
                                else if ($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0] == "Leads") {
                                    eval($("#SearchFieldId").getSelectedItemData().JS_function);
                                }
                                else if ($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0] == "Opportunities") {
                                    eval($("#SearchFieldId").getSelectedItemData().JS_function);
                                }
                                else if ($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0] == "CustomerAssets") {
                                    eval($("#SearchFieldId").getSelectedItemData().JS_function);
                                }
                                else if ($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0] == "Readings") {
                                    eval($("#SearchFieldId").getSelectedItemData().JS_function);
                                }
                                else if ($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0] == "ServiceCalls") {
                                    eval($("#SearchFieldId").getSelectedItemData().JS_function);
                                }
                                else if ($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0] == "Resources") {
                                    eval($("#SearchFieldId").getSelectedItemData().JS_function);
                                }
                                else if ($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0] == "WorkOrders") {
                                    eval($("#SearchFieldId").getSelectedItemData().JS_function);
                                }
                                else if ($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0] == "ReadingTypes") {
                                    eval($("#SearchFieldId").getSelectedItemData().JS_function);
                                }
                                else if ($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0] == "ReadingUnits") {
                                    eval($("#SearchFieldId").getSelectedItemData().JS_function);
                                }
                                else if ($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0] == "Addresses") {
                                    eval($("#SearchFieldId").getSelectedItemData().JS_function);
                                }
                                else if ($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0] == "Locations") {
                                    eval($("#SearchFieldId").getSelectedItemData().JS_function);
                                }
                                else if ($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0] == "Alerts") {
                                    eval($("#SearchFieldId").getSelectedItemData().JS_function);
                                }
                                else if ($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0] == "WorkFlows") {
                                    eval($("#SearchFieldId").getSelectedItemData().JS_function);
                                }
                                else if ($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0] == "WorkFlowMappings") {
                                    eval($("#SearchFieldId").getSelectedItemData().JS_function);
                                }
                                else if ($("#SearchFieldId").getSelectedItemData().Text.split(' > ')[0] == "WorkFlowReports") {
                                    eval($("#SearchFieldId").getSelectedItemData().JS_function);
                                }
                                else {

                                    toastr.error("Please Refresh the Page and Contact to Support Team.", "Error", {
                                        "closeButton": true,
                                        "progressBar": true,
                                        "positionClass": "toast-top-right"
                                    });
                                    //LoadModalForDetails($("#SearchFieldId").getSelectedItemData().FirstURL);
                                }
                            } catch (e) {
                                $('body').removeClass('m-page--loading');
                            }
                        }

                    },
                    onKeyEnterEvent: function () { console.log("onKeyEnterEvent") },
                    onMouseOverEvent: function () { console.log("onMouseOverEvent") },
                    onMouseOutEvent: function () { console.log("onMouseOutEvent") },
                    onHideListEvent: function () { console.log("onHideListEvent") }
                },
                highlightPhrase: true

                
            };
            $("#SearchFieldId").easyAutocomplete(Searchoptions);
        }

        // its is used for Clear a session
        function ClearSearchSession() {
            $('#SearchFieldId').val('');
            //debugger;
            //$.ajax({
            //    type: "POST",
            //    url: "/GlobalSearch/ClearGlobalSearchSession",
            //    dataType: "text",
            //    async: false,
            //    success: function (response) {
            //        SearchDataAssign();
            //        $('#SearchFieldId').val('');
            //        toastr.success('Search has been Reset');
            //    },
            //    failure: function () {
            //        toastr.error('Opps something Wrong to Reset the Search');
            //    }
            //});
        }

        // it loaded again First in search Data
        //function SearchDataAssign() {
        //    EasyautoCompleteSearch();
        //}

        // this function is not in used
        function ClickOnNavigationLilsk(value) {

            var url = window.location.pathname;
            if ($.inArray(url, SearchData) !== -1) {
                alert();
            }
            var isexist = false;

            for (var i = 0; i < SearchData.length; i++) {
                var data = SearchData[i].Text;
                if (data == value) {
                    isexist = true;
                    break;
                }
            }
            alert(isexist);
        }

        var recentHistoryList = [];

        var addRecentSearch = function (URL, Name) {

            var d = new Date();
            d.getHours(); // => 9
            d.getMinutes(); // =>  30
            d.getSeconds(); // => 51
            var time = d.getHours + ":" + d.getMinutes;

            if (recentHistoryList == null) {
                recentHistoryList = [];
            }

            recentHistoryList.push({ 'Name': Name, 'URL': URL, SearchDateTime: new Date().toLocaleString() });
            localStorage.setItem("recentHistoryList", JSON.stringify(recentHistoryList));
            console.log(URL + "/n" + Name);

        }

        var nvaigateRecentsearch = function (URL, Name) {
            console.log(URL + " " + Name);
            addRecentSearch(URL, Name);
            window.location = URL;
        }

        var LoadRecentSearchHistory = function () {
            recentHistoryList = JSON.parse(localStorage.getItem("recentHistoryList"));

            if (recentHistoryList == null) {
                recentHistoryList = [];
                recentHistoryList.push({ 'Name': "Dashboard", 'URL': "/", SearchDateTime: new Date().toLocaleString() });
                localStorage.setItem("recentHistoryList", JSON.stringify(recentHistoryList));
            }
            $('#RecentSearchItems').html('');
            var htmlData = '';
            for (var i = recentHistoryList.length - 1; i >= 0; i--) {
                htmlData += '<div class="m-list-timeline__item">';
                htmlData += '    <span class="m-list-timeline__badge"></span>';
                htmlData += '    <span class="m-list-timeline__text" onclick="nvaigateRecentsearch(\'' + recentHistoryList[i].URL + '\',\'' + recentHistoryList[i].Name + '\')" style="color:#575962;cursor: pointer;padding-left: 20px;">' + recentHistoryList[i].Name + '</span>';
                htmlData += '    <span class="m-list-timeline__time">' + recentHistoryList[i].SearchDateTime + '</span>';
                htmlData += '</div >';
            }

            $('#RecentSearchItems').append(htmlData);

        }

        $(document).ready(function () {
            LoadRecentSearchHistory();

            // this is used to find url is exist in array and render it to SearchFeildId
            var recentURL = recentHistoryList.find(x => x.URL === window.location.pathname);
            if (recentURL != null) { $('#SearchFieldId').val(recentURL.Name); }

        });

    </script>

    <script>

        var Accounts_Details_Modal = function (id) {
            $('body').addClass('m-page--loading');
            $.ajax({
                type: "GET",
                url: "/Accounts/AccountDetailsPartial",
                data: { id: id },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    $('.modal-content').html('').html(response);
                    $('#m_table_Assets').DataTable({
                        columnDefs: [
                            { "width": "10px", "targets": 0 },
                            { "width": "40px", "targets": 1 },
                            { "width": "100px", "targets": 2 },
                            { "width": "70px", "targets": 3 },
                            { "width": "70px", "targets": 4 },
                            { "width": "70px", "targets": 5 },
                            { "width": "70px", "targets": 6 },
                            { "width": "70px", "targets": 7 },
                            { "width": "70px", "targets": 8 }
                        ]
                    });

                    $('#m_table_Location').DataTable({ scrollX: true });
                    $('#m_table_Device').DataTable({ scrollX: true });

                    $('#m_table_Oppertunity').DataTable({ scrollX: true });

                    $('#m_modal_Details').modal('show');

                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var Devices_Details_Modal = function (id) {
            $('body').addClass('m-page--loading');
            $.ajax({
                type: "GET",
                url: "/Devices/PartialDetailsOnId",
                data: { id: id },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {
                    $('.modal-content-rightside').html('').html(response);
                    $('#RightSideModal').modal('show');
                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var Leads_Details_Modal = function (id) {
            $('body').addClass('m-page--loading');
            $.ajax({
                type: "GET",
                url: "/Leads/PartialDetailsOnId",
                data: { id: id },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    $('.modal-content-rightside').html('').html(response);
                    $('#RightSideModal').modal('show');
                    $('body').removeClass('m-page--loading');

                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var Opportunities_Details_Modal = function (id) {

            $('body').addClass('m-page--loading');

            $.ajax({
                type: "GET",
                url: "/Opportunities/PartialDetailsOnId",
                data: { id: id },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    $('.modal-content-rightside').html('').html(response);
                    $('#RightSideModal').modal('show');
                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    //mApp.unblockPage();
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var CustomerAssets_Details_Modal = function (id) {
            $('body').addClass('m-page--loading');
            $.ajax({
                type: "GET",
                url: "/CustomerAssets/PartialDetailsOnId",
                data: { id: id },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    $('.modal-content-rightside').html('').html(response);
                    $('#RightSideModal').modal('show');
                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var Readings_Details_Modal = function (id) {
            $('body').addClass('m-page--loading');
            $.ajax({
                type: "GET",
                url: "/Readings/PartialDetailsOnId",
                data: { id: id },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    $('.modal-content-rightside').html('').html(response);
                    $('#RightSideModal').modal('show');
                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var ServiceCalls_Details_Modal = function (id) {
            // not remove this function because it use for open details of account form search click it use in easy auto complte funtion contact to development branch
            // in master page use in EasyautoCompleteSearch

            $('body').addClass('m-page--loading');

            $.ajax({
                type: "GET",
                url: "/ServiceCalls/PartialDetailsOnId",
                data: { id: id },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    $('.modal-content-rightside').html('').html(response);
                    $('#RightSideModal').modal('show');
                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var Resources_Details_Modal = function (id) {
            // not remove this function because it use for open details of account form search click it use in easy auto complte funtion contact to development branch
            // in master page use in EasyautoCompleteSearch

            $('body').addClass('m-page--loading');

            $.ajax({
                type: "GET",
                url: "/Resources/PartialDetailsOnId",
                data: { id: id },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    $('.modal-content-rightside').html('').html(response);
                    $('#RightSideModal').modal('show');
                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var WorkOrders_Details_Modal = function (id) {
            // not remove this function because it use for open details of account form search click it use in easy auto complte funtion contact to development branch
            // in master page use in EasyautoCompleteSearch

            $('body').addClass('m-page--loading');

            $.ajax({
                type: "GET",
                url: "/WorkOrders/PartialDetailsOnId",
                data: { id: id },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    $('.modal-content-rightside').html('').html(response);
                    $('#RightSideModal').modal('show');
                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var ReadingTypes_Details_Modal = function (id) {
            // not remove this function because it use for open details of account form search click it use in easy auto complte funtion contact to development branch
            // in master page use in EasyautoCompleteSearch

            $('body').addClass('m-page--loading');

            $.ajax({
                type: "GET",
                url: "/ReadingTypes/PartialDetailsOnId",
                data: { id: id },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    $('.modal-content-rightside').html('').html(response);
                    $('#RightSideModal').modal('show');
                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var ReadingUnits_Details_Modal = function (id) {
            // not remove this function because it use for open details of account form search click it use in easy auto complte funtion contact to development branch
            // in master page use in EasyautoCompleteSearch

            $('body').addClass('m-page--loading');

            $.ajax({
                type: "GET",
                url: "/ReadingUnits/PartialDetailsOnId",
                data: { id: id },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    $('.modal-content-rightside').html('').html(response);
                    $('#RightSideModal').modal('show');
                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var Addresses_Details_Modal = function (id) {

            $('body').addClass('m-page--loading');

            $.ajax({
                type: "GET",
                url: "/Addresses/PartialDetailsOnId",
                data: { id: id },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    $('.modal-content-rightside').html('').html(response);
                    $('#RightSideModal').modal('show');
                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var Locations_Details_Modal = function (id) {
            // not remove this function because it use for open details of account form search click it use in easy auto complte funtion contact to development branch
            // in master page use in EasyautoCompleteSearch

            $('body').addClass('m-page--loading');

            $.ajax({
                type: "GET",
                url: "/Locations/PartialDetailsOnId",
                data: { id: id },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    $('.modal-content-rightside').html('').html(response);
                    $('#RightSideModal').modal('show');
                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    //mApp.unblockPage();
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var Alerts_Details_Modal = function (id) {
            // not remove this function because it use for open details of account form search click it use in easy auto complte funtion contact to development branch
            // in master page use in EasyautoCompleteSearch

            $('body').addClass('m-page--loading');

            $.ajax({
                type: "GET",
                url: "/Alerts/PartialDetailsOnId",
                data: { id: id },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    $('.modal-content-rightside').html('').html(response);
                    $('#RightSideModal').modal('show');
                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var WorkFlows_Details_Modal = function (id) {
            // not remove this function because it use for open details of account form search click it use in easy auto complte funtion contact to development branch
            // in master page use in EasyautoCompleteSearch

            $('body').addClass('m-page--loading');

            $.ajax({
                type: "GET",
                url: "/WorkFlows/PartialDetailsOnId",
                data: { id: id },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    $('.modal-content-rightside').html('').html(response);
                    $('#RightSideModal').modal('show');
                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var WorkFlowMappings_Details_Modal = function (id) {
            // not remove this function because it use for open details of account form search click it use in easy auto complte funtion contact to development branch
            // in master page use in EasyautoCompleteSearch

            $('body').addClass('m-page--loading');

            $.ajax({
                type: "GET",
                url: "/WorkFlowMappings/PartialDetailsOnId",
                data: { id: id },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {

                    $('.modal-content-rightside').html('').html(response);
                    $('#RightSideModal').modal('show');
                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

        var WorkFlowReports_Details_Modal = function (id) {
            // not remove this function because it use for open details of account form search click it use in easy auto complte funtion contact to development branch
            // in master page use in EasyautoCompleteSearch
            $('body').addClass('m-page--loading');
            $.ajax({
                type: "GET",
                url: "/WorkFlowMappings/PartialDetailsOnId",
                data: { id: id },
                contentType: "application/json; charset=utf-8",
                dataType: "text",
                success: function (response) {
                    $('.modal-content').html('').html(response);
                    $('#m_modal_Details').modal('show');
                    $('body').removeClass('m-page--loading');
                },
                failure: function () {
                    alert("Failed!");
                    $('body').removeClass('m-page--loading');
                }
            });
        }

    </script>


    @{
        ViewBag.MyMessage = TempData["FormSubmissionMessage"];
        ViewBag.MyStatus = TempData["FormSubmissionStatus"];
    }
    @if (@ViewBag.MyMessage != null && ViewBag.MyStatus != null)
    {
        <script>
            $(window).on('load', function () {
                if ('@ViewBag.MyStatus' == 'success') {
                    toastr.success('@ViewBag.MyMessage');
                }
                else {
                    toastr.warning('@ViewBag.MyMessage');
                }
    });
        </script>
    }


    <script src="http://www.hivemq.com/demos/websocket-client/js/mqttws31.js" type="text/javascript"></script>
    <script>
        var globalint = 0;
        var globalArray = new Array();
        var globalDevicesArray = new Array();
        var count = 0;
        var count1 = 0;
        var globalSelectedDevice;

    </script>

    <script type="text/javascript">
        //Using the HiveMQ public Broker, with a random client Id
        //var client = new Messaging.Client("broker.hivemq.com", 8000, "clientId-HT8EO4mebO" + parseInt(Math.random() * 100, 10));
        var client = new Messaging.Client("broker.hivemq.com", 8000, "TechImplement_id_" + parseInt(Math.random() * 100, 10));

        //Gets  called if the websocket/mqtt connection gets disconnected for any reason
        client.onConnectionLost = function (responseObject) {
            //Depending on your scenario you could implement a reconnect logic here
            alert("connection lost: " + responseObject.errorMessage);
        };

        if (count == 0) {
            $('#counter').html("    Place your Thumb on the sensor");
            $('#counterb').html("   Place your Thumb on the sensor");

        }


        //Gets called whenever you receive a message for your subscriptions
        client.onMessageArrived = function (message) {

            var url = window.location.pathname;
            var array = message.payloadString.split(',');
            globalArray.push([array[0], array[1], array[2], array[3]]);
            console.log(globalArray);
            console.log(array);
            count++;
            // debugger;
            if (globalDevicesArray.indexOf(array[1]) > -1) {
                console.log("is in array");
            }
            else {

                console.log("is NOT in array");
                globalDevicesArray.push(array[1]);
                if (url == "/Devices/Index" || url == "/Devices") {
                    getListofDevices(array[1]);
                    //conectedDeviceCount();
                }
                else if (url == "/Devices" || url == "/Devices/Index" || url == "/") {
                    $('#connectedDeviceCount').html(globalDevicesArray.length);
                    //UpdatePieChart();
                }
            }
            var DeviceSelected = localStorage.getItem('selectedDevice');
            if (DeviceSelected != null) {
                globalSelectedDevice = DeviceSelected;
            }
            var d = new Date();
            var Time = d.getHours() + '' + d.getMinutes() + d.getSeconds();

            if (url == "/Devices" || url == "/Devices/Index" || url == "/") {
                $('#messages').append('<span>Topic: ' + message.destinationName + '  | ' + array[0] + '</span><br/>');
                updateMap(array[1], array[2], array[3]);
            }
            else if ((url == "/Devices/device" || url == "/devices/device" || url.indexOf("/Accounts/AccountsDetail") >= 0) && (DeviceSelected == array[1] || globalSelectedDevice == array[1])) {
                $('#messages').append('<span>Topic: ' + message.destinationName + '  | ' + array[0] + '</span><br/>');
                updateChart(new Date(), Math.round(array[0]));
                //if (array[4] > 0) {
                //    document.getElementById("temperature").style.height = "90%";
                //    document.getElementById("temperature").style.height = "60%";

                //}
                if (array[4] > 97) {
                    $('#feverValue').html(array[4]);
                    $('#counter').html("Completed");
                }
                if (array[5] > 0) {
                    $('#heartbeatvalue').html(array[5]);
                }
                //updateChart(new Date(), Math.round(array[0]));
                //beat.value = array[0];
                //document.getElementById("heartbeatvalue").innerHTML = array[0];
                if (array[4] > 0 && array[4] < 97) {
                    $('#counter').html("Calculating your Temperature...");

                }

            }
            else if ((url == "/Devices/device" || url == "/devices/device") && (DeviceSelected == null || globalSelectedDevice == null)) {
                window.location.href = "../Devices/Index";
            }
        };


        $("#btnSendCommand").click(function () {

            if ($("#btnSendCommand").text() == "Send Command") {
                if ($("#txtValue").val().length > 0) {

                    if (Number.isInteger(parseInt($("#txtValue").val()))) {

                        publish($("#txtValue").val(), 'delay', 2);

                        alert($("#commandDropDown").val() + ' - Command successfully send with value = ' + $("#txtValue").val());
                    }
                }
                else {
                    alert($("#commandDropDown").val() + ' - Command successfully send with value = ' + $("#txtValue").val());


                }

            }
            else if ($("#btnSendCommand").text() == "Save Service Date") {
                var date = $('#txtDate').val();
                if (date == "" || date == "undefined") {

                    alert("Please enter a device service date");

                }
                else {
                    if (validateDate(date)) {
                        var myDate = new Date(date);
                        var today = new Date();

                        if (myDate >= today) {
                            $.ajax({
                                url: "/Devices/UpdateDeviceSerivceDate",
                                type: "get", //send it through get method
                                data: {
                                    mac: localStorage.getItem('selectedDevice'),
                                    date: date

                                },
                                success: function (response) {
                                    alert("Device service date updated successfully!");
                                },
                                error: function (xhr) {
                                    //Do Something to handle error

                                }
                            });
                        }
                        else {

                            alert("Device service date must be in future!");
                        }

                        // alert(localStorage.getItem('selectedDevice'));



                    }
                    else {
                        alert("Please enter a valid device service date");
                    }

                }




            }


        });



        function validateDate(testdate) {
            var date_regex = /^(0[1-9]|1[0-2])\/(0[1-9]|1\d|2\d|3[01])\/(19|20)\d{2}$/;
            return date_regex.test(testdate);
        }

        var conectedDeviceCount = function () {

        }

        //Connect Options
        var options = {
            timeout: 3,
            //Gets Called if the connection has sucessfully been established
            onSuccess: function () {
                //  alert("connected");
                client.subscribe('GatewayServer', { qos: 2 });
            },
            //Gets Called if the connection could not be established
            onFailure: function (message) {
                alert("Connection failed: " + message.errorMessage);
            }
        };

        //Creates a new Messaging.Message Object and sends it to the HiveMQ MQTT Broker
        var publish = function (payload, topic, qos) {
            //Send your message (also possible to serialize it as JSON or protobuf or just use a string, no limitations)
            var message = new Messaging.Message(payload);
            message.destinationName = topic;
            message.qos = qos;
            client.send(message);
        }

        $(document).ready(function () {

            client.connect(options);
        });

    </script>


    <script>
        var changeLayout = function (value) {
            //alert(value);
            $.get("/Home/SetLayout?value=" + value, function (data) {
                window.location.reload();

            });
        }
    </script>

    @RenderSection("scripts", required: false)

</body>

<!-- end::Body -->
</html>